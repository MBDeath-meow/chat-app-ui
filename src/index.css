@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Discord-inspired Design System */
    /* Primary Brand Colors */
    --color-primary: 228 88% 67%; /* Blurple #5865F2 */
    --color-primary-hover: 228 88% 62%;
    --color-primary-active: 228 88% 57%;
    
    /* Background Colors */
    --bg-primary: 222 19% 6%; /* #0F1115 */
    --bg-secondary: 218 14% 11%; /* #151821 */
    --bg-tertiary: 217 12% 17%; /* #1A1F2B */
    --bg-elevated: 215 16% 24%; /* #2B3441 */
    --bg-overlay: 0 0% 0% / 0.7;
    
    /* Text Colors */
    --text-primary: 210 11% 91%; /* #E5E7EB */
    --text-secondary: 220 9% 68%; /* #9CA3AF */
    --text-muted: 215 14% 48%; /* #6B7280 */
    --text-inverse: 222 19% 6%;
    
    /* Interactive Colors */
    --accent: 195 100% 56%; /* #22D3EE */
    --accent-hover: 195 100% 51%;
    --success: 142 76% 36%; /* #10B981 */
    --warning: 41 96% 48%; /* #F59E0B */
    --danger: 0 84% 60%; /* #EF4444 */
    --danger-hover: 0 84% 55%;
    
    /* Server/Channel Colors */
    --sidebar-bg: 217 12% 17%; /* #1A1F2B */
    --channel-hover: 215 16% 24% / 0.3;
    --channel-active: 228 88% 67% / 0.1;
    --server-bg: 215 12% 12%; /* #181B20 */
    
    /* Message Colors */
    --message-hover: 215 16% 24% / 0.1;
    --message-self: 228 88% 67% / 0.1;
    
    /* Status Colors */
    --status-online: 142 76% 36%;
    --status-idle: 41 96% 48%;
    --status-dnd: 0 84% 60%;
    --status-offline: 220 9% 68%;
    
    /* Semantic mappings for shadcn */
    --background: var(--bg-primary);
    --foreground: var(--text-primary);
    --card: var(--bg-secondary);
    --card-foreground: var(--text-primary);
    --popover: var(--bg-tertiary);
    --popover-foreground: var(--text-primary);
    --primary: var(--color-primary);
    --primary-foreground: var(--text-inverse);
    --secondary: var(--bg-tertiary);
    --secondary-foreground: var(--text-primary);
    --muted: var(--bg-elevated);
    --muted-foreground: var(--text-muted);
    --accent: var(--accent);
    --accent-foreground: var(--text-inverse);
    --destructive: var(--danger);
    --destructive-foreground: var(--text-primary);
    --border: 217 12% 24%;
    --input: var(--bg-elevated);
    --ring: var(--color-primary);
    --radius: 14px;
    
    /* Sidebar */
    --sidebar-background: var(--sidebar-bg);
    --sidebar-foreground: var(--text-primary);
    --sidebar-primary: var(--color-primary);
    --sidebar-primary-foreground: var(--text-inverse);
    --sidebar-accent: var(--bg-elevated);
    --sidebar-accent-foreground: var(--text-primary);
    --sidebar-border: 217 12% 24%;
    --sidebar-ring: var(--color-primary);
    
    /* Animation Variables */
    --animation-speed-fast: 150ms;
    --animation-speed-normal: 220ms;
    --animation-speed-slow: 350ms;
    --animation-ease: cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Spacing */
    --spacing-xs: 4px;
    --spacing-sm: 8px;
    --spacing-md: 16px;
    --spacing-lg: 24px;
    --spacing-xl: 32px;
    
    /* Typography */
    --font-size-xs: 12px;
    --font-size-sm: 13px;
    --font-size-base: 14px;
    --font-size-lg: 16px;
    --font-size-xl: 18px;
    --font-size-2xl: 20px;
  }

  .light {
    /* Light theme overrides if needed */
    --bg-primary: 0 0% 100%;
    --bg-secondary: 0 0% 98%;
    --bg-tertiary: 220 13% 91%;
    --bg-elevated: 0 0% 96%;
    
    --text-primary: 222 84% 5%;
    --text-secondary: 215 16% 47%;
    --text-muted: 215 20% 65%;
    --text-inverse: 0 0% 100%;
    
    --sidebar-bg: 220 13% 91%;
    --channel-hover: 0 0% 0% / 0.05;
    --message-hover: 0 0% 0% / 0.02;
    
    /* Update semantic mappings */
    --background: var(--bg-primary);
    --foreground: var(--text-primary);
    --card: var(--bg-secondary);
    --card-foreground: var(--text-primary);
    --popover: var(--bg-tertiary);
    --popover-foreground: var(--text-primary);
    --secondary: var(--bg-tertiary);
    --secondary-foreground: var(--text-primary);
    --muted: var(--bg-elevated);
    --muted-foreground: var(--text-muted);
    --sidebar-background: var(--sidebar-bg);
    --border: 214 32% 91%;
    --input: var(--bg-elevated);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: 'Inter', 'Roboto', sans-serif;
    font-size: var(--font-size-base);
    line-height: 1.5;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: hsl(var(--bg-secondary));
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--bg-elevated));
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--text-muted));
  }
}

@layer components {
  /* Animation utilities */
  .animate-message-in {
    animation: messageIn var(--animation-speed-normal) var(--animation-ease);
  }

  .animate-fade-in {
    animation: fadeIn var(--animation-speed-normal) var(--animation-ease);
  }

  .animate-scale-in {
    animation: scaleIn var(--animation-speed-fast) var(--animation-ease);
  }

  .animate-slide-in-right {
    animation: slideInRight var(--animation-speed-normal) var(--animation-ease);
  }

  /* Custom hover effects */
  .hover-scale {
    transition: transform var(--animation-speed-fast) var(--animation-ease);
  }

  .hover-scale:hover {
    transform: scale(1.05);
  }

  .hover-glow {
    transition: box-shadow var(--animation-speed-fast) var(--animation-ease);
  }

  .hover-glow:hover {
    box-shadow: 0 0 20px hsl(var(--color-primary) / 0.3);
  }

  /* Typography utilities */
  .text-heading {
    font-size: var(--font-size-xl);
    font-weight: 600;
    line-height: 1.3;
  }

  .text-subheading {
    font-size: var(--font-size-lg);
    font-weight: 500;
    line-height: 1.4;
  }

  .text-body {
    font-size: var(--font-size-base);
    line-height: 1.5;
  }

  .text-small {
    font-size: var(--font-size-sm);
    line-height: 1.4;
  }

  .text-tiny {
    font-size: var(--font-size-xs);
    line-height: 1.3;
  }

  /* Discord-style status dots */
  .status-dot {
    @apply w-3 h-3 rounded-full border-2 border-background;
  }

  .status-online {
    background-color: hsl(var(--status-online));
  }

  .status-idle {
    background-color: hsl(var(--status-idle));
  }

  .status-dnd {
    background-color: hsl(var(--status-dnd));
  }

  .status-offline {
    background-color: hsl(var(--status-offline));
  }

  /* Unread indicators */
  .unread-indicator {
    @apply w-2 h-2 rounded-full bg-primary animate-pulse;
  }

  /* Channel hover effects */
  .channel-hover {
    @apply transition-colors duration-150 hover:bg-[hsl(var(--channel-hover))];
  }

  .channel-active {
    @apply bg-[hsl(var(--channel-active))] text-primary;
  }

  /* Message hover effects */
  .message-hover {
    @apply transition-colors duration-150 hover:bg-[hsl(var(--message-hover))];
  }
}

@keyframes messageIn {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}
